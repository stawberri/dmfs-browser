(function(){var e;window.Buffer=buffer.Buffer,e=$("body"),$("#text-to-file").click(function(e){var t,r,n,c,o,f,i;e.preventDefault();try{t=$.parseJSON($("#compressed-text").val())}catch(a){return void(r=a)}if(null!=t.ct)return n=t.fn,c=t.ct,c=Base65536.decode(c),$("#use-base64").is(":checked")&&(c=c.toString(),c=function(e){return new Buffer(e,"base64")}(c)),c=function(e){return new Uint8Array(e)}(c),o=new Blob([c],{type:"application/octet-stream"}),f=URL.createObjectURL(o),console.log(f),i=$("<a>"),i.attr({href:f,download:n}),i[0].click(),i}),$("#file-to-text").click(function(e){var t,r;return e.preventDefault(),t=$("#file-picker")[0].files[0],null!=t?(r=new FileReader,r.addEventListener("loadend",function(){var e,n;return e=new Buffer(new Uint8Array(r.result)),$("#use-base64").is(":checked")&&(e=e.toString("base64"),e=function(e){return new Buffer(e)}(e)),e=Base65536.encode(e),n={fn:t.name,pt:0,ct:e},n=JSON.stringify(n),$("#compressed-text").val(n)}),r.readAsArrayBuffer(t)):void 0})}).call(this);
